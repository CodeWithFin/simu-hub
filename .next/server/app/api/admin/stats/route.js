"use strict";(()=>{var e={};e.id=553,e.ids=[553],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},6162:e=>{e.exports=require("stream")},1764:e=>{e.exports=require("util")},4763:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>I});var s={};r.r(s),r.d(s,{GET:()=>d});var a=r(9303),n=r(8716),i=r(670),l=r(7070),o=r(9145),u=r(1482),c=r.n(u);async function d(e){try{if(!function(e){let t=function(e){let t=e.headers.get("authorization");return t&&t.startsWith("Bearer ")?t.substring(7):null}(e);return t?function(e){try{return c().verify(e,process.env.JWT_SECRET||"your-secret-key")}catch(e){return null}}(t):null}(e))return l.NextResponse.json({success:!1,error:"Unauthorized"},{status:401});let t=new Date,r=new Date(t);r.setHours(0,0,0,0);let s=new Date(t);s.setDate(s.getDate()-7);let a=new Date(t);a.setMonth(a.getMonth()-1);let{data:n}=await o.O.from("orders").select("status, created_at"),i=n?.filter(e=>new Date(e.created_at)>=r)||[],u=n?.filter(e=>new Date(e.created_at)>=s)||[],d=n?.filter(e=>new Date(e.created_at)>=a)||[],p={today:{total:i.length,pending:i.filter(e=>"pending"===e.status).length,dispatched:i.filter(e=>"dispatched"===e.status).length,ready:i.filter(e=>"ready"===e.status).length,completed:i.filter(e=>"completed"===e.status).length},week:{total:u.length,pending:u.filter(e=>"pending"===e.status).length,dispatched:u.filter(e=>"dispatched"===e.status).length,ready:u.filter(e=>"ready"===e.status).length,completed:u.filter(e=>"completed"===e.status).length},month:{total:d.length,pending:d.filter(e=>"pending"===e.status).length,dispatched:d.filter(e=>"dispatched"===e.status).length,ready:d.filter(e=>"ready"===e.status).length,completed:d.filter(e=>"completed"===e.status).length}};return l.NextResponse.json({success:!0,data:p})}catch(e){return l.NextResponse.json({success:!1,error:e.message},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/admin/stats/route",pathname:"/api/admin/stats",filename:"route",bundlePath:"app/api/admin/stats/route"},resolvedPagePath:"/home/finley/Finley-personal /simu-hub/app/api/admin/stats/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:I,serverHooks:m}=p,g="/api/admin/stats/route";function f(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:I})}},9145:(e,t,r)=>{r.d(t,{O:()=>n});var s=r(7857);let a=null,n=function(){if(a)return a;try{let e="https://moxqcjveracxuthydide.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1veHFjanZlcmFjeHV0aHlkaWRlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODQzODYzNSwiZXhwIjoyMDg0MDE0NjM1fQ.8lLOdRN8EfNC21Kj5a3RtGfICCCPYi4ZbkFbvDcDqEg";if(!e||!t)return console.warn("⚠️  Supabase environment variables not set. API calls will fail."),a=(0,s.eI)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");return a=(0,s.eI)(e,t)}catch(e){return console.error("Error creating Supabase client:",e),a=(0,s.eI)("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}}()}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,564,482],()=>r(4763));module.exports=s})();